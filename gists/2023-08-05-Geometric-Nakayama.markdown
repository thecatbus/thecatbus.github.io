---
title: Affine-local Nakayama Lemma
author: Parth
tags: algebra
---
Suppose we have a ring $A$ with a finitely generated module $M$, and sections
$m_1,...,m_n\in M$ whose images span the fiber $M_p\otimes \kappa(p)$  at
some prime ideal $p\subset A$. The usual form of the Nakayama lemma asserts that
the sections $m_1,...,m_n$ also generate the stalk $M_p$ as an $A_p$-module.

With little work this stalk-local version of the lemma can be upgraded to an affine-local form, i.e.\ we show there is an $a\in A\setminus p$ such that the sections $m_1,...,m_n$ generate the localisation $M_a$ as an $A_a$-module. Indeed write $M'=M/\langle m_1,...,m_n \rangle$ for the cokernel of the surjection $A^n\to M$ determined by the sections, and note that the stalk $M'_p$ vanishes by stalk-local Nakayama lemma. Thus $p$ is not in the support of $M'$, and since finitely generated modules have closed support in $\text{Spec}\,A$, we can find a distinguished affine neighbourhood of $p$ (defined by some element $a\in A\setminus p$) contained outside $\text{Supp}\,M'$. For all points $q$ in this neighbourhood, $M'_q=0$ so that $M_q$ is generated by $m_1,...,m_n$. It follows that $M_a$ is generated by $m_1,...,m_n$ by examining the corresponding map $A_a^n\to M_a$.
<!--more-->
